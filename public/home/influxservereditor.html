	<p [ngSwitch]="editmode">
    <template ngSwitchCase="list">
	<div class="row-fluid">
      		<div class=".col-md-3">
        		<h2>Influx Servers</h2>
        	</div>
						<hr>
						<h4>{{ errorhandler }} </h4>
      		<div  class=".col-md-3">
			<input type="text"  class="form-control" required [(ngModel)]="filter" >
      <button type="submit" (click)="onFilter()" class="btn btn-primary">Filter</button>
	 		<button type="button" (click)="newInfluxServer()" class="btn btn-primary">New</button>
     		</div>
	</div>

	<accordion [closeOthers]="oneAtATime">
  		<accordion-group #group  *ngFor="let influxserver of influxservers" [heading]="influxserver.ID">
   			<div accordion-heading>
    				<i style="top: -15px" class="pull-right glyphicon"
         			[ngClass]="{'glyphicon-chevron-down': group?.isOpen, 'glyphicon-chevron-right': !group?.isOpen}"></i>
   			</div>
		<!--content-->
					<i class="pull-right glyphicon glyphicon glyphicon-eye-open" (click)="viewItem(group,$event)"></i>
					<i class="pull-right glyphicon glyphicon glyphicon glyphicon-edit"  (click)="editInfluxServer(influxserver.ID)"></i>
    			<i class="pull-right glyphicon glyphicon glyphicon glyphicon-remove"  (click)="removeItem(influxserver.ID)"></i>

    		 {{ influxserver.Host }}
				 <hr>
				 {{ influxserver | json }}

  		</accordion-group>
	</accordion>
     </template>
     <template ngSwitchCase="create">
   	<form [formGroup]="influxserverForm" class="ui form" (ngSubmit)="saveInfluxServer()">
		<label for="id">id</label>
		 <input formControlName="id" id="id" />
		 <control-messages [control]="influxserverForm.controls.id"></control-messages>

		 <label for="Host">Host</label>
			<input formControlName="Host" id="Host" />
			<control-messages [control]="influxserverForm.controls.Host"></control-messages>

			<label for="Port">Port</label>
			 <input formControlName="Port" id="Port" />
			 <control-messages [control]="influxserverForm.controls.Port"></control-messages>

			 <label for="DB">DB</label>
				<input formControlName="DB" id="DB" />
				<control-messages [control]="influxserverForm.controls.DB"></control-messages>

				<label for="User">User</label>
				 <input formControlName="User" id="User" />
				 <control-messages [control]="influxserverForm.controls.User"></control-messages>

			 <label for="Password">Password</label>
				<input formControlName="Password" id="Password" />
				<control-messages [control]="influxserverForm.controls.Password"></control-messages>


			 <label for="Retention">Retention</label>
				<input formControlName="Retention" id="Retention" />
				<control-messages [control]="influxserverForm.controls.Retention"></control-messages>

		<button type="submit" [disabled]="!influxserverForm.valid">Submit</button>
		<button type="reset" [disabled]="!influxserverForm.dirty">Reset</button>
		<button type="button" class="ui button" (click)="cancelEdit()">Cancel</button>
    	</form>

     </template>


		 <template ngSwitchCase="modify">
   	<form [formGroup]="influxserverForm" class="ui form" (ngSubmit)="updateInfluxServer(testinfluxservers.ID)">
		<label for="id">id</label>
		 <input formControlName="id" id="id" [ngModel] = "testinfluxservers.ID"/>
		 <control-messages [control]="influxserverForm.controls.id"></control-messages>

		 <label for="Host">Host</label>
			<input formControlName="Host" id="Host" [ngModel] = "testinfluxservers.Host" />
			<control-messages [control]="influxserverForm.controls.Host"></control-messages>

			<label for="Port">Port</label>
			 <input formControlName="Port" id="Port" [ngModel] = "testinfluxservers.Port" />
			 <control-messages [control]="influxserverForm.controls.Port"></control-messages>

			 <label for="DB">DB</label>
				<input formControlName="DB" id="DB" [ngModel] = "testinfluxservers.DB" />
				<control-messages [control]="influxserverForm.controls.DB"></control-messages>

				<label for="User">User</label>
				 <input formControlName="User" id="User" [ngModel] = "testinfluxservers.User" />
				 <control-messages [control]="influxserverForm.controls.User"></control-messages>

			 <label for="Password">Password</label>
				<input formControlName="Password" id="Password" [ngModel] = "testinfluxservers.Password" />
				<control-messages [control]="influxserverForm.controls.Password"></control-messages>


			 <label for="Retention">Retention</label>
				<input formControlName="Retention" id="Retention" [ngModel] = "testinfluxservers.Retention" />
				<control-messages [control]="influxserverForm.controls.Retention"></control-messages>

		<button type="submit" [disabled]="!influxserverForm.valid">Submit</button>
		<button type="reset" [disabled]="!influxserverForm.dirty">Reset</button>
		<button type="button" class="ui button" (click)="cancelEdit()">Cancel</button>
    	</form>

     </template>
</p>
